kind: ConfigMap
apiVersion: v1
metadata:
  name: consumption-netsms-serviceusagesbroadbands-v1-config-map
data:
  # Hostname and port
  consumption-netsms-serviceusagesbroadbands-hostname: 'consumption-netsms-serviceusagesbroadbands-v1-cluster-ip'
  consumption-netsms-serviceusagesbroadbands-port: '8080'

  # GC Config
  JAVA_OPTS: "-XX:+UseContainerSupport -XX:MinRAMPercentage=25 -XX:MaxRAMPercentage=75 -XX:+UseG1GC -XX:+UseStringDeduplication -XX:G1ReservePercent=10 -XX:MaxGCPauseMillis=200"

  # Logging
  logging.level.br.com.clarobr: 'DEBUG'
  logging.level.org.springframework.jdbc.core.JdbcTemplate: 'DEBUG'
  logging.level.org.springframework: 'INFO'
  logging.level.com.zaxxer.hikari.HikariConfig: 'INFO'

  # DataSource configurations
  spring.datasource.hikari.poolName: 'service-usages-broadbands-v1'
  spring.datasource.hikari.connection-timeout: '10000'
  spring.datasource.hikari.minimum-idle: '2'
  spring.datasource.hikari.maximum-pool-size: '10'
  spring.datasource.hikari.idle-timeout: '600000'
  spring.datasource.hikari.max-lifetime: '1800000'
  spring.datasource.hikari.auto-commit: 'false'

  # Actuator configurations
  management.endpoints.web.exposure.include: 'health,info,metrics,prometheus'
  management.endpoints.web.exposure.exclude: 'refresh,restart,pause,resume'
  management.health.readinessState.enabled: 'true'
  management.health.livenessState.enabled: 'true'
  management.health.circuitbreakers.enabled: 'true'
  management.health.ratelimiters.enabled: 'true'
  management.endpoint.health.probes.enabled: 'true'
  management.endpoint.health.show-details: 'always'
  management.health.binders.enabled: 'false'
  management.endpoint.metrics.access: 'read-only'
  management.endpoint.prometheus.access: 'read_only'
  management.endpoint.health.access: 'read_only'
  management.endpoint.loggers.access: 'read_only'

  # MultiBase Interceptor App Config excludes paths
  app.multibase.interceptor.exclude.paths: '/error,/actuator'

  # DataSource inicial que deve ser consultada
  app.datasource.current-key-lookup: 'ISP'

  # ISP
  app.datasource.isp.url: 'jdbc:oracle:thin:@//5.16.8.159:1538/CRT1ISP'
  app.datasource.isp.initialization-mode: 'always'
  app.datasource.isp.driver-class-name: 'oracle.jdbc.driver.OracleDriver'
  app.datasource.isp.alias: 'ISP'
  app.datasource.isp.active: 'true'

  # ATLP
  app.datasource.atlp.url: 'jdbc:oracle:thin:@//10.28.20.24:1528/CRT1ATL'
  app.datasource.atlp.initialization-mode: 'always'
  app.datasource.atlp.driver-class-name: 'oracle.jdbc.driver.OracleDriver'
  app.datasource.atlp.alias: 'ATLP'
  app.datasource.atlp.active: 'true'

  # CFM CTL01 (SIT5)
  app.datasource.mediation.url: 'jdbc:oracle:thin:@//5.17.8.208:1523/ctl01'
  app.datasource.mediation.initialization-mode: 'always'
  app.datasource.mediation.driver-class-name: 'oracle.jdbc.driver.OracleDriver'
  app.datasource.mediation.alias: 'MEDIATION'
  app.datasource.mediation.active: 'true'

  app.multibase.active.databases: 'ISP,ATLP,MEDIATION'
