xquery version "1.0" encoding "UTF-8";

(::pragma  xds <x:xds targetType="bus:BuscarChaveContratoDSP" xmlns:x="urn:annotations.ld.bea.com" xmlns:bus="ld:br/com/netservicos/atendimento/chave/contrato/physical/netsms/BuscarChaveContratoDSP">
    <creationDate>2009-01-05T10:16:39</creationDate>
    <userDefinedView/>
</x:xds>::)


import schema namespace bus="ld:br/com/netservicos/atendimento/chave/contrato/physical/netsms/BuscarChaveContratoDSP" at "ld:br/com/netservicos/atendimento/chave/contrato/physical/netsms/schemas/BuscarChaveContratoDSP.xsd";

declare namespace tns="ld:br/com/netservicos/atendimento/chave/contrato/logical/BuscarChaveContratoDSL";

(::pragma  function <f:function kind="read" visibility="public" isPrimary="true" xmlns:f="urn:annotations.ld.bea.com"/>::)

declare function tns:getChaveContrato($cidContrato as xs:string, $numContrato as xs:long) as element(bus:BuscarChaveContratoDSP)*{
for $BuscarChaveContratoDSP in bus:getChaveContrato($cidContrato, $numContrato)
where $BuscarChaveContratoDSP/IDCHAVEPRODUTO gt 0
return
        <bus:BuscarChaveContratoDSP>
            <IDCHAVEPRODUTO>{fn:data($BuscarChaveContratoDSP/IDCHAVEPRODUTO)}</IDCHAVEPRODUTO>
            <CDCHAVEPRODUTO>{fn:data($BuscarChaveContratoDSP/CDCHAVEPRODUTO)}</CDCHAVEPRODUTO>
            <DHAQUISICAO?>{fn:data($BuscarChaveContratoDSP/DHAQUISICAO)}</DHAQUISICAO>
            <IDSTATUSCHAVEPRODUTO>{fn:data($BuscarChaveContratoDSP/IDSTATUSCHAVEPRODUTO)}</IDSTATUSCHAVEPRODUTO>
            <DSSTATUSCHAVEPRODUTO>{fn:data($BuscarChaveContratoDSP/DSSTATUSCHAVEPRODUTO)}</DSSTATUSCHAVEPRODUTO>
            <DESCRICAO>{fn:data($BuscarChaveContratoDSP/DESCRICAO)}</DESCRICAO>
            <DSSTATUSCHAVEPRODUTOSITE?>{fn:data($BuscarChaveContratoDSP/DSSTATUSCHAVEPRODUTOSITE)}</DSSTATUSCHAVEPRODUTOSITE>
        </bus:BuscarChaveContratoDSP>
    

};

