<?xml version="1.0" encoding="UTF-8"?>
<xml-fragment>
  <ser:coreEntry isProxy="true" isEnabled="true" xmlns:ser="http://www.bea.com/wli/sb/services">
    <ser:description>proxy service IdentificarContratos11V2 que redireciona o fluxo para proxy service IdentificarContratos12V2.</ser:description><ser:binding type="SOAP" isSoap12="false" xsi:type="con:SoapBindingType" xmlns:con="http://www.bea.com/wli/sb/services/bindings/config" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:wsdl ref="Infraestrutura/transicao/relacionar/atendimento/wsdl/proxy/IdentificarContratos"/>
      <con:port>
        <con:name>IdentificarContratosSOAP11</con:name>
        <con:namespace>http://www.netservicos.com.br/IdentificarContratos/</con:namespace>
      </con:port>
      <con:selector type="SOAP body"/>
    </ser:binding>
    <ser:monitoring isEnabled="false">
      <ser:aggregationInterval>10</ser:aggregationInterval>
    </ser:monitoring>
    <ser:reporting>true</ser:reporting>
    <ser:logging isEnabled="true">
      <ser:logLevel>debug</ser:logLevel>
    </ser:logging>
    <ser:sla-alerting isEnabled="true">
      <ser:alertLevel>normal</ser:alertLevel>
    </ser:sla-alerting>
    <ser:pipeline-alerting isEnabled="true">
      <ser:alertLevel>normal</ser:alertLevel>
    </ser:pipeline-alerting>
    <ser:ws-policy>
      <ser:binding-mode>wsdl-policy-attachments</ser:binding-mode>
    </ser:ws-policy>
  </ser:coreEntry>
  <ser:endpointConfig xmlns:ser="http://www.bea.com/wli/sb/services">
    <tran:provider-id xmlns:tran="http://www.bea.com/wli/sb/transports">http</tran:provider-id>
    <tran:inbound xmlns:tran="http://www.bea.com/wli/sb/transports">true</tran:inbound>
    <tran:URI xmlns:tran="http://www.bea.com/wli/sb/transports">
      <env:value xmlns:env="http://www.bea.com/wli/config/env">/infraestrutura/transicao/relacionar/atendimento/IdentificarContratos11V2</env:value>
    </tran:URI>
    <tran:inbound-properties xmlns:tran="http://www.bea.com/wli/sb/transports"/>
    <tran:all-headers xmlns:tran="http://www.bea.com/wli/sb/transports">true</tran:all-headers>
    <tran:provider-specific xmlns:tran="http://www.bea.com/wli/sb/transports"><http:inbound-properties xmlns:http="http://www.bea.com/wli/sb/transports/http"><http:client-authentication xsi:type="http:HttpBasicAuthenticationType" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></http:inbound-properties></tran:provider-specific>
  </ser:endpointConfig>
  <ser:router errorHandler="_onErrorHandler-9131269182001053604--65669476.144fa2ab64b.-7fd9" xmlns:ser="http://www.bea.com/wli/sb/services"><con:pipeline type="request" name="identificar contrato pelo codigo de cliente_request" xmlns:con="http://www.bea.com/wli/sb/pipeline/config"><con:stage name="Tratar Header - Identificar Contrato por Codigo Cliente"><con:comment>Estágio responsável em realizar o tratamento no Header recebido na entrada do serviço.</con:comment><con:context><con1:varNsDecl namespace="http://www.netservicos.com.br/v2/NetHeader" prefix="net" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/></con:context><con:actions><con1:replace varName="header" contents-only="true" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-4013875834194091289--c869f88.144f94a1067.-7ffe</con2:id><con1:location><con2:xpathText xmlns:con2="http://www.bea.com/wli/sb/stages/config">.</con2:xpathText></con1:location><con1:expr><con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config"><con2:resource ref="general/transformation/TransformarNetHeaderDefaults"/><con2:param name="tokenDefault"><con2:path>fn-bea:uuid()</con2:path></con2:param><con2:param name="netHeaderIN"><con2:path>$header/net:NetHeader</con2:path></con2:param><con2:param name="numeroProtocoloDefault"><con2:path>''</con2:path></con2:param><con2:param name="aplicacaoDefault"><con2:path>'OTHER'</con2:path></con2:param><con2:param name="funcionalidadeDefault"><con2:path>''</con2:path></con2:param><con2:param name="versaoServicoDefault"><con2:path>'1.2'</con2:path></con2:param><con2:param name="usernameDefault"><con2:path>fn:data($inbound/ctx:security/ctx:transportClient/ctx:username)</con2:path></con2:param><con2:param name="numeroChamadaDefault"><con2:path>''</con2:path></con2:param></con2:xqueryTransform></con1:expr></con1:replace><con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-4013875834194091289--c869f88.144f94a1067.-7ffd</con2:id><con1:logLevel>debug</con1:logLevel><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$header</con2:xqueryText></con1:expr><con1:message>IdentificarContratos11V2 - identificar contrato por codigo cliente. Header de Entrada.</con1:message></con1:log><con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-4013875834194091289--c869f88.144f94a1067.-7ffc</con2:id><con1:logLevel>debug</con1:logLevel><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$body</con2:xqueryText></con1:expr><con1:message>IdentificarContratos11V2 - identificar contrato por codigo cliente. Body de Entrada.</con1:message></con1:log></con:actions></con:stage><con:stage name="Chamada ao proxy IdentificarContratos12V2"><con:comment>Chamada ao proxy IdentificarContratos12V2 (protocolo soap 1.2), operação consultarContratoPorCodigoCliente</con:comment><con:context><con1:varNsDecl namespace="http://www.netservicos.com.br/IdentificarContratos/" prefix="iden" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/><con1:varNsDecl namespace="http://www.netservicos.com.br/v2/NetHeader" prefix="net" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/></con:context><con:actions><con1:wsCallout xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-4013875834194091289--c869f88.144f94a1067.-8000</con2:id><con1:service xsi:type="ref:ProxyRef" ref="Infraestrutura/transicao/relacionar/atendimento/proxyservice/IdentificarContratos12V2" xmlns:ref="http://www.bea.com/wli/sb/reference" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/><con1:operation>consultarContratoPorCodigoCliente</con1:operation><con1:request><con1:body wrapped="true">$consultarContratoPorCodigoClienteRequest</con1:body><con1:header>$consultarContratoPorCodigoClienteHeaderRequest</con1:header></con1:request><con1:response><con1:body wrapped="true">consultarContratoPorCodigoClienteResponse</con1:body><con1:header>consultarContratoPorCodigoClienteHeaderResponse</con1:header></con1:response><con1:requestTransform><con1:assign varName="consultarContratoPorCodigoClienteRequest"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-4013875834194091289--c869f88.144f94a1067.-7fff</con2:id><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap-env:Body>
	{$body/iden:consultarContratoPorCodigoClienteRequest}
&lt;/soap-env:Body>

</con2:xqueryText></con1:expr></con1:assign><con2:log xmlns:con2="http://www.bea.com/wli/sb/stages/logging/config"><con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-4013875834194091289--c869f88.144f94a1067.-7ffa</con3:id><con2:logLevel>debug</con2:logLevel><con2:expr><con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$consultarContratoPorCodigoClienteRquest</con3:xqueryText></con2:expr><con2:message>consultarContratoPorCodigoClienteRquest</con2:message></con2:log><con1:assign varName="consultarContratoPorCodigoClienteHeaderRequest"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-4013875834194091289--c869f88.144f94a1067.-7ffb</con2:id><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap-env:Header>
	{ $header/net:NetHeader }
&lt;/soap-env:Header></con2:xqueryText></con1:expr></con1:assign><con2:log xmlns:con2="http://www.bea.com/wli/sb/stages/logging/config"><con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-4013875834194091289--c869f88.144f94a1067.-7ff9</con3:id><con2:logLevel>debug</con2:logLevel><con2:expr><con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$consultarContratoPorCodigoClienteHeaderRequest</con3:xqueryText></con2:expr><con2:message>consultarContratoPorCodigoClienteHeaderRequest</con2:message></con2:log></con1:requestTransform><con1:responseTransform><con2:log xmlns:con2="http://www.bea.com/wli/sb/stages/logging/config"><con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-4013875834194091289--c869f88.144f94a1067.-7ff8</con3:id><con2:logLevel>debug</con2:logLevel><con2:expr><con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$consultarContratoPorCodigoClienteResponse</con3:xqueryText></con2:expr><con2:message>consultarContratoPorCodigoClienteResponse</con2:message></con2:log></con1:responseTransform></con1:wsCallout></con:actions></con:stage></con:pipeline><con:pipeline type="response" name="identificar contrato pelo codigo de cliente_response" xmlns:con="http://www.bea.com/wli/sb/pipeline/config"><con:stage name="Tratamento de resposta"><con:comment>Tratamento de respostas para proxy service IdentificarContratos11V2. operação consultarContratoPorCodigoCliente</con:comment><con:context><con1:varNsDecl namespace="http://www.netservicos.com.br/IdentificarContratos/" prefix="iden" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/></con:context><con:actions><con1:replace varName="body" contents-only="true" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-4013875834194091289--c869f88.144f94a1067.-7ff7</con2:id><con1:location><con2:xpathText xmlns:con2="http://www.bea.com/wli/sb/stages/config">.</con2:xpathText></con1:location><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$consultarContratoPorCodigoClienteResponse/iden:consultarContratoPorCodigoClienteResponse
</con2:xqueryText></con1:expr></con1:replace><con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-4013875834194091289--c869f88.144f94a1067.-7fea</con2:id><con1:logLevel>debug</con1:logLevel><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$body</con2:xqueryText></con1:expr><con1:message>Saida o serviço Identificar contratos (1.1) - operação consultarContratoPorCodigoCliente</con1:message></con1:log><con1:delete varName="header" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-4013875834194091289--c869f88.144f94a1067.-7ff6</con2:id><con1:location><con2:xpathText xmlns:con2="http://www.bea.com/wli/sb/stages/config">.</con2:xpathText></con1:location></con1:delete></con:actions></con:stage></con:pipeline><con:pipeline type="request" name="identificar contrato por telefone_request" xmlns:con="http://www.bea.com/wli/sb/pipeline/config"><con:stage name="Trata Header - Identifcar Contrato por Telefone"><con:comment>Estágio responsável em realizar o tratamento no Header recebido na entrada do serviço.</con:comment><con:context><con1:varNsDecl namespace="http://www.netservicos.com.br/v2/NetHeader" prefix="net" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/></con:context><con:actions><con1:replace varName="header" contents-only="true" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-8000</con2:id><con1:location><con2:xpathText xmlns:con2="http://www.bea.com/wli/sb/stages/config">.</con2:xpathText></con1:location><con1:expr><con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config"><con2:resource ref="general/transformation/TransformarNetHeaderDefaults"/><con2:param name="tokenDefault"><con2:path>fn-bea:uuid()</con2:path></con2:param><con2:param name="netHeaderIN"><con2:path>$header/net:NetHeader</con2:path></con2:param><con2:param name="numeroProtocoloDefault"><con2:path>''</con2:path></con2:param><con2:param name="aplicacaoDefault"><con2:path>'OTHER'</con2:path></con2:param><con2:param name="funcionalidadeDefault"><con2:path>''</con2:path></con2:param><con2:param name="versaoServicoDefault"><con2:path>'1.2'</con2:path></con2:param><con2:param name="usernameDefault"><con2:path>fn:data($inbound/ctx:security/ctx:transportClient/ctx:username)</con2:path></con2:param><con2:param name="numeroChamadaDefault"><con2:path>''</con2:path></con2:param></con2:xqueryTransform></con1:expr></con1:replace><con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fff</con2:id><con1:logLevel>debug</con1:logLevel><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$header</con2:xqueryText></con1:expr><con1:message>IdentificarContratos11V2 - identificar contrato por telefone. Header de Entrada.</con1:message></con1:log><con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7ffe</con2:id><con1:logLevel>debug</con1:logLevel><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$body</con2:xqueryText></con1:expr><con1:message>IdentificarContratos11V2 - identificar contrato por telefone. Body de Entrada.</con1:message></con1:log></con:actions></con:stage><con:stage name="Chamada ao proxy IdentificarContratos12V2"><con:comment>Chamada ao proxy IdentificarContratos12V2 - operação consultarContratoPorTelefone</con:comment><con:context><con1:varNsDecl namespace="http://www.netservicos.com.br/IdentificarContratos/" prefix="iden" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/><con1:varNsDecl namespace="http://www.netservicos.com.br/v2/NetHeader" prefix="net" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/></con:context><con:actions><con1:wsCallout xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7ffd</con2:id><con1:service xsi:type="ref:ProxyRef" ref="Infraestrutura/transicao/relacionar/atendimento/proxyservice/IdentificarContratos12V2" xmlns:ref="http://www.bea.com/wli/sb/reference" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/><con1:operation>consultarContratoPorTelefone</con1:operation><con1:request><con1:body wrapped="true">$consultarContratoPorTelefoneRequest</con1:body><con1:header>$consultarContratoPorTelefoneHeaderRequest</con1:header></con1:request><con1:response><con1:body wrapped="true">consultarContratoPorTelefoneResponse</con1:body><con1:header>consultarContratoPorTelefoneHeaderResponse</con1:header></con1:response><con1:requestTransform><con1:assign varName="consultarContratoPorTelefoneRequest"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7ffc</con2:id><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap-env:Body>
	{$body/iden:consultarContratoPorTelefoneRequest}
&lt;/soap-env:Body>
</con2:xqueryText></con1:expr></con1:assign><con2:log xmlns:con2="http://www.bea.com/wli/sb/stages/logging/config"><con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7ffb</con3:id><con2:logLevel>debug</con2:logLevel><con2:expr><con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$consultarContratoPorTelefoneRequest</con3:xqueryText></con2:expr><con2:message>consultarContratoPorTelefoneRequest</con2:message></con2:log><con1:assign varName="consultarContratoPorTelefoneHeaderRequest"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7ffa</con2:id><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap-env:Header>
	{ $header/net:NetHeader }
&lt;/soap-env:Header></con2:xqueryText></con1:expr></con1:assign><con2:log xmlns:con2="http://www.bea.com/wli/sb/stages/logging/config"><con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7ff9</con3:id><con2:logLevel>debug</con2:logLevel><con2:expr><con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$consultarContratoPorTelefoneHeaderRequest</con3:xqueryText></con2:expr><con2:message>consultarContratoPorTelefoneHeaderRequest</con2:message></con2:log></con1:requestTransform><con1:responseTransform><con2:log xmlns:con2="http://www.bea.com/wli/sb/stages/logging/config"><con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7ff8</con3:id><con2:logLevel>debug</con2:logLevel><con2:expr><con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$consultarContratoPorTelefoneResponse</con3:xqueryText></con2:expr><con2:message>IdentificarContratos11V2 - consultarContratoPorTelefoneResponse</con2:message></con2:log></con1:responseTransform></con1:wsCallout></con:actions></con:stage></con:pipeline><con:pipeline type="response" name="identificar contrato por telefone_response" xmlns:con="http://www.bea.com/wli/sb/pipeline/config"><con:stage name="Tratamento de resposta"><con:comment>Tratamento de resposta para o proxy service IdentificarContratos11V2 - operação consultarContratoPorTelefone</con:comment><con:context><con1:userNsDecl namespace="http://www.netservicos.com.br/ContratoAssinante" prefix="con" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/><con1:varNsDecl namespace="http://www.netservicos.com.br/IdentificarContratos/" prefix="iden" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/></con:context><con:actions><con1:replace varName="body" contents-only="true" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7ff6</con2:id><con1:location><con2:xpathText xmlns:con2="http://www.bea.com/wli/sb/stages/config">.</con2:xpathText></con1:location><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$consultarContratoPorTelefoneResponse/iden:consultarContratoPorTelefoneResponse

</con2:xqueryText></con1:expr></con1:replace><con1:delete varName="header" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7ff5</con2:id><con1:location><con2:xpathText xmlns:con2="http://www.bea.com/wli/sb/stages/config">.</con2:xpathText></con1:location></con1:delete><con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7ff4</con2:id><con1:logLevel>debug</con1:logLevel><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$body</con2:xqueryText></con1:expr><con1:message>Saida o serviço Identificar contratos (1.1) - operação consultarContratoPorTelefone</con1:message></con1:log></con:actions></con:stage></con:pipeline><con:pipeline type="request" name="identificar contrato por protocolo_request" xmlns:con="http://www.bea.com/wli/sb/pipeline/config"><con:stage name="Trata Header - Identificar Contrato por Protocolo"><con:comment>Estágio responsável em realizar o tratamento no Header recebido na entrada do serviço.</con:comment><con:context><con1:varNsDecl namespace="http://www.netservicos.com.br/v2/NetHeader" prefix="net" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/></con:context><con:actions><con1:replace varName="header" contents-only="true" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7ff3</con2:id><con1:location><con2:xpathText xmlns:con2="http://www.bea.com/wli/sb/stages/config">.</con2:xpathText></con1:location><con1:expr><con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config"><con2:resource ref="general/transformation/TransformarNetHeaderDefaults"/><con2:param name="tokenDefault"><con2:path>fn-bea:uuid()</con2:path></con2:param><con2:param name="netHeaderIN"><con2:path>$header/net:NetHeader</con2:path></con2:param><con2:param name="numeroProtocoloDefault"><con2:path>''</con2:path></con2:param><con2:param name="aplicacaoDefault"><con2:path>'OTHER'</con2:path></con2:param><con2:param name="funcionalidadeDefault"><con2:path>''</con2:path></con2:param><con2:param name="versaoServicoDefault"><con2:path>'1.2'</con2:path></con2:param><con2:param name="usernameDefault"><con2:path>fn:data($inbound/ctx:security/ctx:transportClient/ctx:username)</con2:path></con2:param><con2:param name="numeroChamadaDefault"><con2:path>''</con2:path></con2:param></con2:xqueryTransform></con1:expr></con1:replace><con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7ff2</con2:id><con1:logLevel>debug</con1:logLevel><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$header</con2:xqueryText></con1:expr><con1:message>IdentificarContratos11V2 - identificar contrato por protocolo. Header de Entrada.</con1:message></con1:log><con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7ff1</con2:id><con1:logLevel>debug</con1:logLevel><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$body</con2:xqueryText></con1:expr><con1:message>IdentificarContratos11V2 - identificar contrato por protocolo. Body de Entrada.</con1:message></con1:log></con:actions></con:stage><con:stage name="Chamada ao proxy IdentificarContratos12V2"><con:comment>Chamada ao proxy IdentificarContratos12V2 - operação consultarContratosPorProtocolo</con:comment><con:context><con1:varNsDecl namespace="http://www.netservicos.com.br/IdentificarContratos/" prefix="iden" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/><con1:varNsDecl namespace="http://www.netservicos.com.br/v2/NetHeader" prefix="net" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/></con:context><con:actions><con1:wsCallout xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7ff0</con2:id><con1:service xsi:type="ref:ProxyRef" ref="Infraestrutura/transicao/relacionar/atendimento/proxyservice/IdentificarContratos12V2" xmlns:ref="http://www.bea.com/wli/sb/reference" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/><con1:operation>consultarContratosPorProtocolo</con1:operation><con1:request><con1:body wrapped="true">$consultarContratosPorProtocoloRequest</con1:body><con1:header>$consultarContratosPorProtocoloHeaderRequest</con1:header></con1:request><con1:response><con1:body wrapped="true">consultarContratosPorProtocoloResponse</con1:body><con1:header>consultarContratosPorProtocoloHeaderResponse</con1:header></con1:response><con1:requestTransform><con1:assign varName="consultarContratosPorProtocoloRequest"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fef</con2:id><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap-env:Body>
	{$body/iden:consultarContratosPorProtocoloRequest}
&lt;/soap-env:Body>
</con2:xqueryText></con1:expr></con1:assign><con2:log xmlns:con2="http://www.bea.com/wli/sb/stages/logging/config"><con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fee</con3:id><con2:logLevel>debug</con2:logLevel><con2:expr><con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$consultarContratosPorProtocoloRequest</con3:xqueryText></con2:expr><con2:message>consultarContratosPorProtocoloRequest</con2:message></con2:log><con1:assign varName="consultarContratosPorProtocoloHeaderRequest"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fed</con2:id><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap-env:Header>
	{ $header/net:NetHeader }
&lt;/soap-env:Header></con2:xqueryText></con1:expr></con1:assign><con2:log xmlns:con2="http://www.bea.com/wli/sb/stages/logging/config"><con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fec</con3:id><con2:logLevel>debug</con2:logLevel><con2:expr><con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$consultarContratosPorProtocoloHeaderRequest</con3:xqueryText></con2:expr><con2:message>consultarContratosPorProtocoloHeaderRequest</con2:message></con2:log></con1:requestTransform><con1:responseTransform><con2:log xmlns:con2="http://www.bea.com/wli/sb/stages/logging/config"><con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7feb</con3:id><con2:logLevel>debug</con2:logLevel><con2:expr><con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$consultarContratosPorProtocoloResponse</con3:xqueryText></con2:expr><con2:message>consultarContratosPorProtocoloResponse</con2:message></con2:log></con1:responseTransform></con1:wsCallout></con:actions></con:stage></con:pipeline><con:pipeline type="response" name="identificar contrato por protocolo_response" xmlns:con="http://www.bea.com/wli/sb/pipeline/config"><con:stage name="Tratamento de resposta"><con:comment>Tratamento de resposta para o proxy service IdentificarContratos11V2 - operação consultarContratosPorProtocolo</con:comment><con:context><con1:varNsDecl namespace="http://www.netservicos.com.br/IdentificarContratos/" prefix="iden" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/></con:context><con:actions><con1:replace varName="body" contents-only="true" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fea</con2:id><con1:location><con2:xpathText xmlns:con2="http://www.bea.com/wli/sb/stages/config">.</con2:xpathText></con1:location><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$consultarContratosPorProtocoloResponse/iden:consultarContratosPorProtocoloResponse
</con2:xqueryText></con1:expr></con1:replace><con1:delete varName="header" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fe9</con2:id><con1:location><con2:xpathText xmlns:con2="http://www.bea.com/wli/sb/stages/config">.</con2:xpathText></con1:location></con1:delete><con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fe8</con2:id><con1:logLevel>debug</con1:logLevel><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$body</con2:xqueryText></con1:expr><con1:message>Saida o serviço Identificar contratos (1.1) - operação consultarContratosPorProtocolo</con1:message></con1:log></con:actions></con:stage></con:pipeline><con:pipeline type="request" name="identificar contrato por documento_request" xmlns:con="http://www.bea.com/wli/sb/pipeline/config"><con:stage name="Trata Header - Identificar Contrato por Documento"><con:comment>Estágio responsável em realizar o tratamento no Header recebido na entrada do serviço.</con:comment><con:context><con1:varNsDecl namespace="http://www.netservicos.com.br/v2/NetHeader" prefix="net" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/></con:context><con:actions><con1:replace varName="header" contents-only="true" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fe7</con2:id><con1:location><con2:xpathText xmlns:con2="http://www.bea.com/wli/sb/stages/config">.</con2:xpathText></con1:location><con1:expr><con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config"><con2:resource ref="general/transformation/TransformarNetHeaderDefaults"/><con2:param name="tokenDefault"><con2:path>fn-bea:uuid()</con2:path></con2:param><con2:param name="numeroProtocoloDefault"><con2:path>''</con2:path></con2:param><con2:param name="netHeaderIN"><con2:path>$header/net:NetHeader</con2:path></con2:param><con2:param name="aplicacaoDefault"><con2:path>'OTHER'</con2:path></con2:param><con2:param name="funcionalidadeDefault"><con2:path>''</con2:path></con2:param><con2:param name="versaoServicoDefault"><con2:path>'1.2'</con2:path></con2:param><con2:param name="usernameDefault"><con2:path>fn:data($inbound/ctx:security/ctx:transportClient/ctx:username)</con2:path></con2:param><con2:param name="numeroChamadaDefault"><con2:path>''</con2:path></con2:param></con2:xqueryTransform></con1:expr></con1:replace><con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fe6</con2:id><con1:logLevel>debug</con1:logLevel><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$header</con2:xqueryText></con1:expr><con1:message>IdentificarContratos11V2 - identificar contrato por protocolo. Header de Entrada.</con1:message></con1:log><con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fe5</con2:id><con1:logLevel>debug</con1:logLevel><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$body</con2:xqueryText></con1:expr><con1:message>IdentificarContratos11V2 - identificar contrato por protocolo. Body de Entrada.</con1:message></con1:log></con:actions></con:stage><con:stage name="Chamada ao proxy IdentificarContratos12V2"><con:comment>Chamada ao proxy IdentificarContratos12V2 - operação consultarContratoPorDocumento</con:comment><con:context><con1:varNsDecl namespace="http://www.netservicos.com.br/IdentificarContratos/" prefix="iden" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/><con1:varNsDecl namespace="http://www.netservicos.com.br/v2/NetHeader" prefix="net" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/></con:context><con:actions><con1:wsCallout xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fe4</con2:id><con1:service xsi:type="ref:ProxyRef" ref="Infraestrutura/transicao/relacionar/atendimento/proxyservice/IdentificarContratos12V2" xmlns:ref="http://www.bea.com/wli/sb/reference" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/><con1:operation>consultarContratoPorDocumento</con1:operation><con1:request><con1:body wrapped="true">$consultarContratoPorDocumentoRequest</con1:body><con1:header>$consultarContratoPorDocumentoHeaderRequest</con1:header></con1:request><con1:response><con1:body wrapped="true">consultarContratoPorDocumentoResponse</con1:body><con1:header>consultarContratoPorDocumentoHeaderResponse</con1:header></con1:response><con1:requestTransform><con1:assign varName="consultarContratoPorDocumentoRequest"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fe3</con2:id><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap-env:Body>
	{$body/iden:consultarContratoPorDocumentoRequest}
&lt;/soap-env:Body>
</con2:xqueryText></con1:expr></con1:assign><con2:log xmlns:con2="http://www.bea.com/wli/sb/stages/logging/config"><con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fe2</con3:id><con2:logLevel>debug</con2:logLevel><con2:expr><con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$consultarContratoPorDocumentoRequest</con3:xqueryText></con2:expr><con2:message>consultarContratoPorDocumentoRequest</con2:message></con2:log><con1:assign varName="consultarContratoPorDocumentoHeaderRequest"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fe1</con2:id><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap-env:Header>
	{ $header/net:NetHeader }
&lt;/soap-env:Header></con2:xqueryText></con1:expr></con1:assign><con2:log xmlns:con2="http://www.bea.com/wli/sb/stages/logging/config"><con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fe0</con3:id><con2:logLevel>debug</con2:logLevel><con2:expr><con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$consultarContratoPorDocumentoHeaderRequest</con3:xqueryText></con2:expr><con2:message>consultarContratoPorDocumentoHeaderRequest</con2:message></con2:log></con1:requestTransform><con1:responseTransform><con2:log xmlns:con2="http://www.bea.com/wli/sb/stages/logging/config"><con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fdf</con3:id><con2:logLevel>debug</con2:logLevel><con2:expr><con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$consultarContratoPorDocumentoResponse</con3:xqueryText></con2:expr><con2:message>consultarContratoPorDocumentoResponse</con2:message></con2:log></con1:responseTransform></con1:wsCallout></con:actions></con:stage></con:pipeline><con:pipeline type="response" name="identificar contrato por documento_response" xmlns:con="http://www.bea.com/wli/sb/pipeline/config"><con:stage name="Tratamento de resposta"><con:comment>Tratamento de resposta para o proxy service IdentificarContratos11V2 - operação consultarContratoPorDocumento</con:comment><con:context><con1:varNsDecl namespace="http://www.netservicos.com.br/IdentificarContratos/" prefix="iden" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/></con:context><con:actions><con1:replace varName="body" contents-only="true" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fde</con2:id><con1:location><con2:xpathText xmlns:con2="http://www.bea.com/wli/sb/stages/config">.</con2:xpathText></con1:location><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$consultarContratoPorDocumentoResponse/iden:consultarContratoPorDocumentoResponse



</con2:xqueryText></con1:expr></con1:replace><con1:delete varName="header" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fdd</con2:id><con1:location><con2:xpathText xmlns:con2="http://www.bea.com/wli/sb/stages/config">.</con2:xpathText></con1:location></con1:delete><con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fdc</con2:id><con1:logLevel>debug</con1:logLevel><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$body</con2:xqueryText></con1:expr><con1:message>Saida o serviço Identificar contratos (1.1) - operação consultarContratoPorDocumento</con1:message></con1:log></con:actions></con:stage></con:pipeline><con:pipeline type="request" name="Default_request" xmlns:con="http://www.bea.com/wli/sb/pipeline/config"><con:stage name="Subindo erro"><con:comment>Stage que lança erro quando um request for inválido.</con:comment><con:context/><con:actions><con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fdb</con2:id><con1:logLevel>debug</con1:logLevel><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$body</con2:xqueryText></con1:expr><con1:message>REQUEST_INVALIDO - O request enviado ao serviço é inválido</con1:message></con1:log><con1:Error xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fda</con2:id><con1:errCode>ATR-9999</con1:errCode><con1:message>Erro inesperado</con1:message></con1:Error></con:actions></con:stage></con:pipeline><con:pipeline type="response" name="Default_response" xmlns:con="http://www.bea.com/wli/sb/pipeline/config"/><con:pipeline type="error" name="_onErrorHandler-9131269182001053604--65669476.144fa2ab64b.-7fd9" xmlns:con="http://www.bea.com/wli/sb/pipeline/config"><con:stage name="Estágio Error Handler Proxy"><con:comment>Tratamento de erro geral do proxy IdentificarContratos11V2</con:comment><con:context><con1:userNsDecl namespace="http://www.bea.com/wli/sb/stages/transform/config" prefix="con1" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/></con:context><con:actions><con1:log xmlns:con1="http://www.bea.com/wli/sb/stages/logging/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fd8</con2:id><con1:logLevel>error</con1:logLevel><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$fault</con2:xqueryText></con1:expr><con1:message>Erro no proxy service IdentificarContratos11V2 (protocolo soap 1.1)</con1:message></con1:log><con1:replace varName="fault" contents-only="true" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fd7</con2:id><con1:location><con2:xpathText xmlns:con2="http://www.bea.com/wli/sb/stages/config">./ctx:errorCode</con2:xpathText></con1:location><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:data($fault/ctx:details/ctx:details/con1:ReceivedFaultDetail/con1:detail/ctx:falt/ctx:errorCode)
</con2:xqueryText></con1:expr></con1:replace><con1:replace varName="fault" contents-only="true" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-9131269182001053604--65669476.144fa2ab64b.-7fd6</con2:id><con1:location><con2:xpathText xmlns:con2="http://www.bea.com/wli/sb/stages/config">./ctx:reason</con2:xpathText></con1:location><con1:expr><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:data($fault/ctx:details/con1:ReceivedFaultDetail/con1:detail/ctx:fault/ctx:reason)</con2:xqueryText></con1:expr></con1:replace>
          
<con1:ifThenElse xmlns:http="http://www.bea.com/wli/sb/transports/http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tran="http://www.bea.com/wli/sb/transports" xmlns:env="http://www.bea.com/wli/config/env" xmlns:con2="http://www.bea.com/wli/sb/stages/logging/config" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config"><con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-118215193248057280-6920a02c.1731106cb6a.-8000</con2:id><con1:case><con1:condition><con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:contains($body/soap-env:Fault/faultstring,
     "ORA-")</con2:xqueryText></con1:condition><con1:actions><con3:transport-headers xmlns:con1="http://www.bea.com/wli/sb/stages/config" xmlns:con2="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config"><con1:id>_ActionId-8357929311831198413--30d35dae.1720e402d09.-7ffe</con1:id><con3:header-set>inbound-response</con3:header-set><con3:header name="SOA-Code" value="expression"><con1:xqueryTransform><con1:resource ref="general/transformation/FormatTransportHeaderResponseORAErrorXQTv1"/><con1:param name="fault"><con1:path>$fault</con1:path></con1:param><con1:param name="body"><con1:path>$body</con1:path></con1:param></con1:xqueryTransform></con3:header></con3:transport-headers></con1:actions></con1:case><con1:default><con1:transport-headers>
            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-8860558302490276716--75ff3585.1699161cd2f.-8000</con2:id>
            <con1:header-set>inbound-response</con1:header-set>
            <con1:header name="SOA-Code" value="expression">
              <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                <con2:resource ref="general/transformation/FormatTransportHeaderResponseCodeXQTv1"/>
                <con2:param name="body"><con2:path>$body</con2:path></con2:param>
                <con2:param name="fault"><con2:path>$fault</con2:path></con2:param>
              </con2:xqueryTransform>
	        </con1:header>
          </con1:transport-headers></con1:default></con1:ifThenElse></con:actions></con:stage></con:pipeline><con:flow xmlns:con="http://www.bea.com/wli/sb/pipeline/config"><con:branch-node type="operation" name="Identificar Contratos"><con:comment>operações do serviço Identificar Contratos</con:comment><con:context/><con:branch-table><con:branch name="consultarContratoPorCodigoCliente"><con:operator>equals</con:operator><con:value/><con:flow><con:pipeline-node name="identificar contrato pelo codigo de cliente"><con:comment>identificar contrato pelo codigo de cliente</con:comment><con:request>identificar contrato pelo codigo de cliente_request</con:request><con:response>identificar contrato pelo codigo de cliente_response</con:response></con:pipeline-node></con:flow></con:branch><con:branch name="consultarContratoPorTelefone"><con:operator>equals</con:operator><con:value/><con:flow><con:pipeline-node name="identificar contrato por telefone"><con:comment>identificar contrato pelo telefone do cliente, podendo ser pelo NET Fone ou telefones de cadastro</con:comment><con:request>identificar contrato por telefone_request</con:request><con:response>identificar contrato por telefone_response</con:response></con:pipeline-node></con:flow></con:branch><con:branch name="consultarContratosPorProtocolo"><con:operator>equals</con:operator><con:value/><con:flow><con:pipeline-node name="identificar contrato por protocolo"><con:comment>identificar contrato por numero de protocolo de atendimento anteriores</con:comment><con:request>identificar contrato por protocolo_request</con:request><con:response>identificar contrato por protocolo_response</con:response></con:pipeline-node></con:flow></con:branch><con:branch name="consultarContratoPorDocumento"><con:operator>equals</con:operator><con:value/><con:flow><con:pipeline-node name="identificar contrato por documento"><con:comment>identificar contrato pelo numero do documento do cliente, podendo ser CPF ou CNPJ</con:comment><con:request>identificar contrato por documento_request</con:request><con:response>identificar contrato por documento_response</con:response></con:pipeline-node></con:flow></con:branch><con:default-branch><con:flow><con:pipeline-node name="Default"><con:comment>Fluxo defaul, caso nenhuma operação seja selecionada,
deverá ser lançado um erro de request inválido.</con:comment><con:request>Default_request</con:request><con:response>Default_response</con:response></con:pipeline-node></con:flow></con:default-branch></con:branch-table></con:branch-node></con:flow></ser:router>
</xml-fragment>